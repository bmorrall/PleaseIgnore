/ navigation styled for Bootstrap 3.0
%nav.navbar.navbar-default.navbar-fixed-top
  .container
    .navbar-header
      %button.navbar-toggle(type='button' data-toggle='collapse' data-target='.navbar-collapse')
        %span.sr-only Toggle navigation
        %span.icon-bar
        %span.icon-bar
        %span.icon-bar
      %a.navbar-brand(href='/') Project name
    .collapse.navbar-collapse
      %ul.nav.navbar-nav
        %li{class: header_nav_class(root_path)}<
          %a(href=root_url) Home
        %li{class: header_nav_class('/api')}<
          %a(href='/api') API Browser
        %li{class: header_nav_class(contact_path)}<
          = link_to 'Contact', contact_path
      %ul.nav.navbar-nav.navbar-right
        - if user_signed_in?
          %li.dropdown{class:page_title=~/Account Management/i?'active':nil}
            %a.dropdown-toggle(href='#' data-toggle='dropdown')
              - if current_user.profile_picture
                %img{src: current_user.profile_picture(32)}
              #{current_user.name || current_user.id}
              &nbsp;
              %i.caret
            %ul.dropdown-menu
              %li
                = link_to 'My Account', edit_user_registration_path
              %li.divider
              %li
                = link_to 'Logout', destroy_user_session_path, :method=>'delete'
        - else
          %li{class: header_nav_class(new_user_session_path)}<
            = link_to 'Login', new_user_session_path
          %li{class: header_nav_class(new_user_registration_path)}<
            = link_to 'Create Account', new_user_registration_path